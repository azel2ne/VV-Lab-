<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>ID Color Logic</title>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.9.3/lib/p5.min.js"></script>
</head>
<body style="margin:0;background:#111;">
<script>
  // --- Discrete color palette ---
  const palette = {
    yellow: [255, 221, 0],
    blue:   [0, 102, 204],
    red:    [220, 50, 50],
    green:  [0, 170, 100],
    purple: [140, 70, 180],
    orange: [255, 140, 0],
    white:  [255, 255, 255],
    black:  [0, 0, 0]
  };

  // --- Rule-based color mixing table ---
  const mixTable = {
    "yellow+blue": "green",
    "blue+yellow": "green",

    "red+blue": "purple",
    "blue+red": "purple",

    "red+yellow": "orange",
    "yellow+red": "orange",

    // fallback
    "yellow+yellow": "yellow",
    "blue+blue": "blue",
    "red+red": "red"
  };

  const colors = ["yellow", "blue", "red"];
  let idx1 = 0;
  let idx2 = 1;

  function setup() {
    createCanvas(windowWidth, windowHeight);
    textAlign(CENTER, CENTER);
    textStyle(BOLD);
  }

  function windowResized() {
    resizeCanvas(windowWidth, windowHeight);
  }

  function draw() {
    background(20);

    // --- change color index by mouse ---
    idx1 = floor(map(mouseX, 0, width, 0, colors.length));
    idx2 = floor(map(mouseY, 0, height, 0, colors.length));
    idx1 = constrain(idx1, 0, colors.length - 1);
    idx2 = constrain(idx2, 0, colors.length - 1);

    const c1Name = colors[idx1];
    const c2Name = colors[idx2];

    const key = `${c1Name}+${c2Name}`;
    const textName = mixTable[key] || "white";

    const c1 = palette[c1Name];
    const c2 = palette[c2Name];
    const t  = palette[textName];

    // --- layout ---
    const size = min(width, height) * 0.25;
    const gap = size * 0.3;
    const cx = width / 2;
    const cy = height / 2;

    // boxes
    fill(...c1); rect(cx - size - gap/2, cy - size/2, size, size, 16);
    fill(...c2); rect(cx + gap/2,        cy - size/2, size, size, 16);

    // text
    fill(...t);
    textSize(size * 0.6);
    text("i", cx - size/2 - gap/2, cy + size*0.05);
    text("d", cx + size/2 + gap/2, cy + size*0.05);

    // debug label (optional)
    fill(220);
    textSize(14);
    text(`${c1Name} + ${c2Name} = ${textName}`, cx, cy + size);
  }
</script>
</body>
</htm
